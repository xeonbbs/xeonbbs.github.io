{"version":3,"sources":["webpack:///./src/views/login/signUp.vue?cd84","webpack:///./src/views/login/signUp.vue","webpack:///./src/api/public.js","webpack:///src/views/login/signUp.vue","webpack:///./src/views/login/signUp.vue?ea36","webpack:///./src/views/login/signUp.vue?c81e","webpack:///./src/styles/variables.scss"],"names":["render","_vm","this","_c","_self","staticClass","attrs","variables","black","on","onSubmit","required","message","model","value","form","email","callback","$$v","$set","expression","password","confirmPwd","scopedSlots","_u","key","fn","staticStyle","domProps","_s","captchaSvg","getCaptcha","proxy","captcha","loading","_v","staticRenderFns","params","request","url","method","name","data","computed","mounted","methods","sid","signup","then","type","duration","onOpened","finally","component","module","exports"],"mappings":"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","file":"static/js/chunk-39eb045f.20bb7a72.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=style&index=0&id=77f24470&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"signup\"},[_c('nav-bar',{attrs:{\"title\":\"用户注册\"}},[_c('van-icon',{attrs:{\"color\":_vm.variables.black,\"size\":\"18\"}})],1),_c('van-form',{staticClass:\"form\",attrs:{\"validate-trigger\":\"onSubmit\",\"show-error\":false},on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"type\":\"text\",\"required\":\"\",\"clearable\":\"\",\"name\":\"注册名\",\"label\":\"注册名\",\"placeholder\":\"请输入用户名\",\"rules\":[\n        {\n          required: true,\n          message: '请输入用户名!',\n        },\n      ]},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"required\":\"\",\"clearable\":\"\",\"name\":\"设置密码\",\"label\":\"设置密码\",\"placeholder\":\"请设置密码\",\"rules\":[{ required: true, message: '请设置密码!' }]},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"required\":\"\",\"clearable\":\"\",\"name\":\"确认密码\",\"label\":\"确认密码\",\"placeholder\":\"请再次输入密码确认\",\"rules\":[{ required: true, message: '请再次输入密码确认!' }]},model:{value:(_vm.form.confirmPwd),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPwd\", $$v)},expression:\"form.confirmPwd\"}}),_c('van-field',{attrs:{\"type\":\"text\",\"required\":\"\",\"center\":\"\",\"clearable\":\"\",\"name\":\"图形验证码\",\"maxlength\":\"4\",\"label\":\"图形验证码\",\"placeholder\":\"请输入图形验证码\",\"rules\":[{ required: true, message: '请输入正确的图形验证码!' }]},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('div',{staticStyle:{\"background\":\"#eee\",\"height\":\"34px\",\"width\":\"100px\"},domProps:{\"innerHTML\":_vm._s(_vm.captchaSvg)},on:{\"click\":_vm.getCaptcha}})]},proxy:true}]),model:{value:(_vm.form.captcha),callback:function ($$v) {_vm.$set(_vm.form, \"captcha\", $$v)},expression:\"form.captcha\"}}),_c('div',{staticStyle:{\"margin\":\"36px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"loading\":_vm.loading,\"type\":\"info\",\"loading-text\":\"登录中...\",\"native-type\":\"submit\"}},[_vm._v(\"注册\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/utils/request\";\n\nexport function getCaptcha(params) {\n  return request({\n    url: \"/public/captcha\",\n    method: \"get\",\n    params,\n  });\n}\n\nexport function getMailCode(data) {\n  return request({\n    url: \"/public/mail\",\n    method: \"post\",\n    data,\n  });\n}\n","<template>\n  <div class=\"signup\">\n    <nav-bar title=\"用户注册\">\n      <van-icon :color=\"variables.black\" size=\"18\" />\n    </nav-bar>\n\n    <van-form\n      class=\"form\"\n      validate-trigger=\"onSubmit\"\n      :show-error=\"false\"\n      @submit=\"onSubmit\"\n    >\n      <van-field\n        v-model=\"form.email\"\n        type=\"text\"\n        required\n        clearable\n        name=\"注册名\"\n        label=\"注册名\"\n        placeholder=\"请输入用户名\"\n        :rules=\"[\n          {\n            required: true,\n            message: '请输入用户名!',\n          },\n        ]\"\n      />\n\n      <van-field\n        v-model=\"form.password\"\n        type=\"password\"\n        required\n        clearable\n        name=\"设置密码\"\n        label=\"设置密码\"\n        placeholder=\"请设置密码\"\n        :rules=\"[{ required: true, message: '请设置密码!' }]\"\n      />\n\n      <van-field\n        v-model=\"form.confirmPwd\"\n        type=\"password\"\n        required\n        clearable\n        name=\"确认密码\"\n        label=\"确认密码\"\n        placeholder=\"请再次输入密码确认\"\n        :rules=\"[{ required: true, message: '请再次输入密码确认!' }]\"\n      />\n\n      <van-field\n        v-model=\"form.captcha\"\n        type=\"text\"\n        required\n        center\n        clearable\n        name=\"图形验证码\"\n        maxlength=\"4\"\n        label=\"图形验证码\"\n        placeholder=\"请输入图形验证码\"\n        :rules=\"[{ required: true, message: '请输入正确的图形验证码!' }]\"\n      >\n        <template #button>\n          <div\n            style=\"background: #eee; height: 34px; width: 100px\"\n            @click=\"getCaptcha\"\n            v-html=\"captchaSvg\"\n          />\n        </template>\n      </van-field>\n\n      <div style=\"margin: 36px\">\n        <van-button\n          round\n          block\n          :loading=\"loading\"\n          type=\"info\"\n          loading-text=\"登录中...\"\n          native-type=\"submit\"\n          >注册</van-button\n        >\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport variables from \"@/styles/variables.scss\";\nimport { getCaptcha } from \"@/api/public\";\nimport { signup } from \"@/api/user\";\n\nexport default {\n  name: \"Regist\",\n  data() {\n    return {\n      form: {\n        password: \"\",\n        confirmPwd: \"\",\n        captcha: \"\",\n      },\n      loading: false,\n      captchaSvg: \"\",\n    };\n  },\n  computed: {\n    variables() {\n      return variables;\n    },\n  },\n  mounted() {\n    // this.getCaptcha();\n  },\n  methods: {\n    // 获取图形验证码\n    getCaptcha() {\n      getCaptcha({ sid: this.form.sid }).then((res) => {\n        this.captchaSvg = res.entry;\n      });\n    },\n    // 提交\n    onSubmit() {\n      const { password, confirmPwd } = this.form;\n      if (password !== confirmPwd) {\n        this.$toast.fail(\"确认密码与设置的不一致\");\n        return;\n      }\n      this.loading = true;\n      signup(this.form)\n        .then(() => {\n          this.$notify({\n            type: \"success\",\n            message: \"注册成功，请登录\",\n            duration: 2000,\n            onOpened: () => {\n              this.$router.back();\n            },\n          });\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.form {\n  padding: 24px;\n}\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./signUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./signUp.vue?vue&type=template&id=77f24470&scoped=true&\"\nimport script from \"./signUp.vue?vue&type=script&lang=js&\"\nexport * from \"./signUp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signUp.vue?vue&type=style&index=0&id=77f24470&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77f24470\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nmodule.exports = {\"theme\":\"rgba(28,153,226,.7529411765)\",\"black\":\"#333\",\"red\":\"#ea625b\",\"green\":\"#38ca73\",\"bgGradient\":\"linear-gradient(90deg, #0af, #0085ff)\"};"],"sourceRoot":""}